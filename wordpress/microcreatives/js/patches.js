ERNO.Queue.prototype.addSleep=function(t){var s=this;this.add(function(){s.isReady=!1,setTimeout(function(){s.isReady=!0},t)})},ERNO.Cubelet.prototype.setOpacity=function(t,s){if(this.opacityTween&&this.opacityTween.stop(),void 0===t&&(t=1),t!==this.opacity){var i=this,o=(t-this.opacity).absolute().scale(0,1,0,this.cube.opacityTweenDuration);this.opacityTween=new TWEEN.Tween({opacity:this.opacity}).to({opacity:t},o).easing(TWEEN.Easing.Quadratic.InOut).onUpdate(function(){i.css3DObject.element.style.opacity=this.opacity,i.opacity=this.opacity}).onComplete(function(){s instanceof Function&&s()}).start(cube.time)}},ERNO.Cubelet.prototype.setRadius=function(t,s){if(this.isTweening===!1&&(t=t||0,void 0===this.radius&&(this.radius=0),this.radius!==t)){var i=(this.radius-t).absolute().scale(0,100,0,this.cube.radiusTweenDuration),o={radius:this.radius};this.isTweening=!0,new TWEEN.Tween(o).to({radius:t},i).easing(TWEEN.Easing.Quartic.Out).onUpdate(function(){this.position.set(this.addressX.multiply(this.size+o.radius)+.2,this.addressY.multiply(this.size+o.radius)+.2,this.addressZ.multiply(this.size+o.radius)+.2),this.updateMatrix(),this.matrixSlice.copy(this.matrix),this.radius=o.radius}.bind(this)).onComplete(function(){this.isTweening=!1,this.position.set(this.addressX.multiply(this.size+o.radius)+.2,this.addressY.multiply(this.size+o.radius)+.2,this.addressZ.multiply(this.size+o.radius)+.2),this.updateMatrix(),this.matrixSlice.copy(this.matrix),this.radius=o.radius,s instanceof Function&&s()}.bind(this)).start(this.cube.time)}},ERNO.Cubelet.prototype.inspect=function(t){if(void 0!==t)return this[t].color||"!";var s=this,i=this.id,o=this.address,e=this.type,c=(this.cube.color,0),n=1,r=function(t,i,o){var e=s[t].color.name.toUpperCase();return void 0!==i&&void 0!==o&&(i===n?e=e.justifyCenter(o):i===c&&(e=e.justifyLeft(o))),e};10>i&&(i="0"+i),10>o&&(o="0"+o),console.log("\n    ID         "+i+"\n    Type       "+e.toUpperCase()+"\n\n    Address    "+o+"\n    Address X  "+this.addressX.toSignedString()+"\n    Address Y  "+this.addressY.toSignedString()+"\n    Address Z  "+this.addressZ.toSignedString()+"\n\n    Engaged X  "+this.isEngagedX+"\n    Engaged Y  "+this.isEngagedY+"\n    Engaged Z  "+this.isEngagedZ+"\n    Tweening   "+this.isTweening+"\n\n%c 0  Front      "+r("front",c,7)+"%c\n%c 1  Up         "+r("up",c,7)+"%c\n%c 2  Right      "+r("right",c,7)+"%c\n%c 3  Down       "+r("down",c,7)+"%c\n%c 4  Left       "+r("left",c,7)+"%c\n%c 5  Back       "+r("back",c,7)+"%c\n\n              -----------  %cback%c\n            /    %cup%c     /|  %c5%c\n           /     %c1%c     / | %c"+r("back")+"%c\n          /%c"+r("up",n,11)+"%c/  |\n  %cleft%c    -----------   %cright%c\n   %c4%c     |           |   %c2%c\n%c"+r("left",n,8)+"%c |   %cfront%c   |  %c"+r("right")+"%c\n         |     %c0%c     |  /\n         |%c"+r("front",n,11)+"%c| /\n         |           |/\n          -----------\n               %cdown%c\n                %c3%c\n           %c"+r("down",n,11)+"%c\n",this.front.color.styleB,"",this.up.color.styleB,"",this.right.color.styleB,"",this.down.color.styleB,"",this.left.color.styleB,"",this.back.color.styleB,"",this.back.color.styleF,"",this.up.color.styleF,"",this.back.color.styleF,"",this.up.color.styleF,"",this.back.color.styleF,"",this.up.color.styleF,"",this.left.color.styleF,"",this.right.color.styleF,"",this.left.color.styleF,"",this.right.color.styleF,"",this.left.color.styleF,"",this.front.color.styleF,"",this.right.color.styleF,"",this.front.color.styleF,"",this.front.color.styleF,"",this.down.color.styleF,"",this.down.color.styleF,"",this.down.color.styleF,"")},ERNO.Group.prototype.hasProperty=ERNO.Slice.prototype.hasProperty=function(t,s){var i=new ERNO.Group;return this.cubelets.forEach(function(o){o[t]===s&&i.add(o)}),i},ERNO.Group.prototype.inspect=function(t){return this.cubelets.forEach(function(s){s.inspect(t)}),this},ERNO.Slice.prototype.inspect=function(t,s){var i=function(t){return t[s].color.name.toUpperCase().justifyCenter(9)},o="";void 0===s&&(s=void 0!==this.face?this.face:"front"),s instanceof ERNO.Direction&&(s=s.name),s!==this.face&&(o=s+"s"),t?console.log("\n"+this.name.capitalize().justifyLeft(10)+"%c "+this.northWest.id.toPaddedString(2)+" %c %c "+this.north.id.toPaddedString(2)+" %c %c "+this.northEast.id.toPaddedString(2)+" %c \n"+o+"\n          %c "+this.west.id.toPaddedString(2)+" %c %c "+this.origin.id.toPaddedString(2)+" %c %c "+this.east.id.toPaddedString(2)+" %c \n\n          %c "+this.southWest.id.toPaddedString(2)+" %c %c "+this.south.id.toPaddedString(2)+" %c %c "+this.southEast.id.toPaddedString(2)+" %c \n",this.northWest[s].color.styleB,"",this.north[s].color.styleB,"",this.northEast[s].color.styleB,"",this.west[s].color.styleB,"",this.origin[s].color.styleB,"",this.east[s].color.styleB,"",this.southWest[s].color.styleB,"",this.south[s].color.styleB,"",this.southEast[s].color.styleB,""):console.log("\n          %c           %c %c           %c %c           %c \n"+this.name.capitalize().justifyLeft(10)+"%c northWest %c %c   north   %c %c northEast %c \n"+o.justifyLeft(10)+"%c "+this.northWest.id.toPaddedString(2).justifyCenter(9)+" %c %c "+this.north.id.toPaddedString(2).justifyCenter(9)+" %c %c "+this.northEast.id.toPaddedString(2).justifyCenter(9)+" %c \n          %c "+i(this.northWest)+" %c %c "+i(this.north)+" %c %c "+i(this.northEast)+" %c \n          %c           %c %c           %c %c           %c \n\n          %c           %c %c           %c %c           %c \n          %c    west   %c %c   origin  %c %c    east   %c \n          %c "+this.west.id.toPaddedString(2).justifyCenter(9)+" %c %c "+this.origin.id.toPaddedString(2).justifyCenter(9)+" %c %c "+this.east.id.toPaddedString(2).justifyCenter(9)+" %c \n          %c "+i(this.west)+" %c %c "+i(this.origin)+" %c %c "+i(this.east)+" %c \n          %c           %c %c           %c %c           %c \n\n          %c           %c %c           %c %c           %c \n          %c southWest %c %c   south   %c %c southEast %c \n          %c "+this.southWest.id.toPaddedString(2).justifyCenter(9)+" %c %c "+this.south.id.toPaddedString(2).justifyCenter(9)+" %c %c "+this.southEast.id.toPaddedString(2).justifyCenter(9)+" %c \n          %c "+i(this.southWest)+" %c %c "+i(this.south)+" %c %c "+i(this.southEast)+" %c \n          %c           %c %c           %c %c           %c\n",this.northWest[s].color.styleB,"",this.north[s].color.styleB,"",this.northEast[s].color.styleB,"",this.northWest[s].color.styleB,"",this.north[s].color.styleB,"",this.northEast[s].color.styleB,"",this.northWest[s].color.styleB,"",this.north[s].color.styleB,"",this.northEast[s].color.styleB,"",this.northWest[s].color.styleB,"",this.north[s].color.styleB,"",this.northEast[s].color.styleB,"",this.northWest[s].color.styleB,"",this.north[s].color.styleB,"",this.northEast[s].color.styleB,"",this.west[s].color.styleB,"",this.origin[s].color.styleB,"",this.east[s].color.styleB,"",this.west[s].color.styleB,"",this.origin[s].color.styleB,"",this.east[s].color.styleB,"",this.west[s].color.styleB,"",this.origin[s].color.styleB,"",this.east[s].color.styleB,"",this.west[s].color.styleB,"",this.origin[s].color.styleB,"",this.east[s].color.styleB,"",this.west[s].color.styleB,"",this.origin[s].color.styleB,"",this.east[s].color.styleB,"",this.southWest[s].color.styleB,"",this.south[s].color.styleB,"",this.southEast[s].color.styleB,"",this.southWest[s].color.styleB,"",this.south[s].color.styleB,"",this.southEast[s].color.styleB,"",this.southWest[s].color.styleB,"",this.south[s].color.styleB,"",this.southEast[s].color.styleB,"",this.southWest[s].color.styleB,"",this.south[s].color.styleB,"",this.southEast[s].color.styleB,"",this.southWest[s].color.styleB,"",this.south[s].color.styleB,"",this.southEast[s].color.styleB,"")},ERNO.Cube.prototype.opacityTweenDuration=200,ERNO.Cube.prototype.radiusTweenDuration=100,ERNO.Cube.prototype.twistDuration=700,ERNO.Cube.prototype.inspect=function(t,s){t=!t,this.front.inspect(t,s),this.up.inspect(t,s),this.right.inspect(t,s),this.down.inspect(t,s),this.left.inspect(t,s),this.back.inspect(t,s)},ERNO.Cube.prototype.undo=function(){var t=this,s=!1;this.taskQueue.add(function(){if(t.twistQueue.history.length){var i=t.twistQueue.history.pop();t.twistQueue.future=[],t.twistQueue.add(i.getInverse()),s=!0}},function(){s&&t.twistQueue.history.pop()})},ERNO.Cube.prototype.shuffle=function(){var t=this.shuffleMethod;this.twistQueue.history.length&&(t=t.replace(this.twistQueue.history[this.twistQueue.history.length-1].getInverse().command,"")),this.twist(t.split("").rand())},ERNO.Cube.prototype.showFaceLabels=function(){return Array.prototype.slice.call(document.querySelectorAll(".faceLabel")).forEach(function(t){t.style.display="block",t.classList.add("fadeIn")}),this.showingFaceLabels=!0,this},ERNO.Cube.prototype.hideFaceLabels=function(){return Array.prototype.slice.call(document.querySelectorAll(".faceLabel")).forEach(function(t){t.classList.remove("fadeIn")}),this.showingFaceLabels=!0,this},ERNO.Cube.prototype.showLogo=function(){cube.centers.hasColor(ERNO.WHITE).cubelets[0].faces.forEach(function(t){t.color===ERNO.WHITE&&t.element.querySelector(".sticker").classList.add("stickerLogo")})},ERNO.Cube.prototype.hideLogo=function(){var t=document.querySelector(".stickerLogo");t&&t.classList.remove("stickerLogo")},ERNO.Cube.prototype.loop=function(){var t=0;return function(){requestAnimationFrame(this.loop);var s="undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now(),i=s-(t||s);if(t=s,!this.paused){if(this.time+=i,TWEEN.update(this.time),this.autoRotate&&(this.rotation.x+=this.rotationDelta.x,this.rotation.y+=this.rotationDelta.y,this.rotation.z+=this.rotationDelta.z),this.isReady&&0===this.isTweening()){var o=this.undoing?this.historyQueue:this.twistQueue;if(0===o.future.length){if(this.isShuffling&&this.shuffle(),this.isSolving&&window.solver)this.isSolving=window.solver.consider(this);else if(this.taskQueue.isReady===!0){var e=this.taskQueue.do();e instanceof Function&&e()}}else{var c=o.do();"x"!==c.command.toLowerCase()&&"y"!==c.command.toLowerCase()&&"z"!==c.command.toLowerCase()&&0!==c.degrees&&(this.moveCounter+=this.undoing?-1:1),(0===c.degrees||c.isShuffle)&&o.purge(c),this.immediateTwist(c)}}this.mouseInteraction.enabled=this.mouseControlsEnabled&&!this.finalShuffle,this.mouseInteraction.update(),this.controls.enabled=this.mouseControlsEnabled&&!this.mouseInteraction.active,this.controls.update()}}}();