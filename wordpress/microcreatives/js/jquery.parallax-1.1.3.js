(function($){var $window=$(window);var windowHeight=$window.height();$window.resize(function(){windowHeight=$window.height();});$.fn.parallax=function(xpos,speedFactor,outerHeight){var $this=$(this);var getHeight;var firstTop;var paddingTop=0;function update(){$this.each(function(){firstTop=$this.offset().top;});if(outerHeight){getHeight=function(jqo){return jqo.outerHeight(true);};}else{getHeight=function(jqo){return jqo.height();};}
if(arguments.length<1||xpos===null)xpos="50%";if(arguments.length<2||speedFactor===null)speedFactor=0.5;if(arguments.length<3||outerHeight===null)outerHeight=true;var pos=$window.scrollTop();$this.each(function(){var $element=$(this);var top=$element.offset().top;var height=getHeight($element);if(top+height<pos||top>pos+windowHeight){return;}
$this.css('backgroundPosition',xpos+" "+Math.round((firstTop-pos)*speedFactor)+"px");});}
$window.bind('scroll',update).resize(update);update();};})(jQuery);(function($){$.fn.parascroll=$.fn.parascroll||function(options){options=$.extend({scrollable:'.scrollable'},options);var ua=navigator.userAgent,getTransform=function(){var prefixes='transform WebkitTransform MozTransform OTransform msTransform'.split(' ');for(var i=0;i<prefixes.length;i++){if(document.createElement('div').style[prefixes[i]]!==undefined){return prefixes[i];}}
return false;},transform=getTransform(),force2d=ua.match(/msie 9/i),run=!(ua.match(/msie 6/i)||ua.match(/mobile/i));scrollItems=[],scrollHandler=null,Scrollable=function($el){$el=$($el);var $para=$el.find(options.scrollable),elTop=$el.offset().top,maxOffset=[],height=$el.height();function refresh(docScrollY){$para.each(function(idx,$pEl){var offset,translate;$pEl=$($pEl);offset=-Math.round(((docScrollY-elTop)/ height)*maxOffset[idx]);offset=Math.max(offset,maxOffset[idx]);translate=force2d?'translateY('+offset+'px)':'translate3d(0px,'+(offset+5)+'px, 0px)';xpos=offset;speedFactor=0.5;if(transform&&translate){$pEl.css(transform,translate);$pEl.animate({'background-position-x':'100%','background-position-y':(offset+5)+"px",},{queue:false,duration:200});}else{$pEl.css('marginTop',offset+'px');}});};$para.each(function(idx,item){maxOffset.push(height-$(item).height()+2);});return{'refresh':refresh};},updateScrollable=function(){var docScrollY=$(window).scrollTop();$.each(scrollItems,function(idx,item){item.refresh(docScrollY);})},addParallax=function(node){scrollItems.push(new Scrollable(node));if(!scrollHandler){scrollHandler=true;$(window).scroll(updateScrollable);}};if(run){this.each(function(idx,item){addParallax(item);});updateScrollable();}};}(window.jQuery));